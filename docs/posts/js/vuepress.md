---
title: VuePress で技術ブログを作ってみた
date: 2019-11-17
description: VuePressの導入方法、機能追加、メリットデメリットについて
meta:
  - name: og:url
    content: https://mskyskw.com/js/index.html
  - name: og:type
    content: website
  - name: og:title
    content: VuePress で技術ブログを作ってみた
  - name: og:description
    content: VuePressの導入方法、機能追加、メリットデメリットについて
  - name: og:image
    content: /og.png
sidebar: auto
---

Date：{{this.$page.frontmatter.date.slice(0, 10) }}

# VuePress で技術ブログを作ってみた


自分用（と同じ問題にぶつかった誰かの参考）のために技術についてメモや、考えたことなどを書き溜めていくサイトを作りたいと前々から思っていたので、VuePress を使って作ってみました。

細かい設定方法・手順は他の方がすでに書かれているので、この記事ではひとまず個人的につまづいた点を中心に書いています。

後日手順についても詳しく追加していこうと思います。

＜目次＞
[[toc]]

## VuePress とは

[公式サイト](https://vuepress.vuejs.org/)

Vue.js 製の静的サイトジェネレータです。Vue.js の開発者によって作られています。

## なぜ 静的サイトジェネレータ・VuePress を選んだか

下記のような、「シンプルで手間なく記事を管理・アップできる技術ブログを作りたい」という希望が叶えられそうだったからです。

### ＜今回拘りたい点＞

- 表示速度の速さ
- 見やすさ・シンプルさ
- メンテナンスのしやすさ
- 編集・アップの手間をできる限り少なく

#### もう少し詳しく

- WordPress は個人的に好きじゃない。ただ技術メモしたいだけなので、プラグインやら動的、大掛かりすぎ。費用対効果、コスパが悪い気がする。記事データが手元にないのがリスキー、ワードプレス特有の挙動を気にするが面倒。
- と思い WordPress 以外の方法を探したところ、静的サイトジェネレータがあるのを知った。脱 WordPress したいことと新しいものを使ってみたいという好奇心（ヘッドレス CMS はゆくゆく使ってみたい）
- 何より純粋に自分の知識の資産としてわかりやすく残しておきたい、新しいことやぶつかって色々試行錯誤した後に頭を整理したいという純粋なアウトプット目的。シンプルで合ってそう。
- あとは、ブログサイト自体を自分が使ったことない技術を試す場、実験台としても使ってみたい。
- 自分はフロントエンド系メインだし、Vue に興味があるので他の静的サイトジェネレータより VuePress が勉強になりそう。
- Vue.js はまだ勉強してないが、カスタマイズ色々しなければ大丈夫そう。（＝勉強して後々カスタマイズできる）
- Qiita と迷ったが、上記の理由で静的サイトジェネレータ・ VuePress に。（Markdown で書けるので、Qiita にもすぐ移せそう）

## 基本的な導入手順

### 前提：本記事でのバージョン

npm：
VuePress：

### コマンド

三つのコマンドを知っておくとスムーズです。
```
# start writing
vuepress dev

# build to static files
vuepress build
```

| コマンド | 使用するとき                         | 内容                                                                   |
| -------- | ------------------------------------ | ---------------------------------------------------------------------- |
| `dev`    | 開発中（ローカルサーバ）             | 実行するとコマンドを実行したディレクトリをルートディレクトリとして扱う |
| `build`  | デプロイするとき                     | 静的ファイルを作成                                                     |
| `eject`  | テーマを大幅にカスタマイズしたいとき | デフォルトテーマに使われているファイルを作業ディレクトリに展開する     |

こちらの記事がわかりやすいです。
[VuePress で作るドキュメントサイト
前編 VuePress の基本機能](https://app.codegrid.net/entry/2018-vuepress-1#toc-4)

### インストールする

```sh{2}
# install
yarn global add vuepress
# OR npm install -g vuepress

# create a markdown file
echo '# Hello VuePress' > README.md

```

## 基本設定

- サイトタイトル・ディスクリプション
- meta タグ
- OGP タグ
- トップページの表示（VuePress デフォルトデザインのもの）

## 機能を追加してみる

### VuePress について前提として知っておくこと

自分の知識不足もありますが、よく分からないまま結構時間を費やしてしまったので、メモしておきます。

- デフォルトでは、基本的にサイト全体は `config.js`、各ページごとに変えたい場合は各ページに直接記述して設定可の項目もある
- `YAML FrontMatter` が使われている（md ファイル内で head タグ内の情報を登録できる）
- Markdown に加えて、拡張された Markdown（`Markdown-it`）が使われている
- `Prism.js` が使われている（シンタックスハイライトが可能）
- VuePress であらかじめ決まっている変数やフォルダ名、ファイル名がある（バージョンによって変更があるので公式サイトを確認した方が良い）

### 追加・設定方法の種類

下記の方法で追加していくかたちになります。

- `Markdown`,`Markdown-it`で可能なもの
- `YAML FrontMatter`で可能なもの
- VuePress のデフォルト機能で可能なもの（`config.js`など）
- プラグインを使用
- 自力で Vue.js を書いてカスタマイズ

デザイン・カスタマイズ等機能系は多いので、別の記事で詳しくまとめようと思います。

### 入れたい機能

#### 最低限入れたい

- 各カテゴリ記事一覧ページ
- カテゴリ一覧
- タグ一覧
- 記事冒頭にページ内目次
- サイドバーにページ内目次表示
- 投稿日付・編集日付表示（技術関連では重要）
- 記事内タグ
- 単語のハイライト（薄グレーの）
- テーマカラーの変更（デフォルトは Vue の緑色）
- CodePen のようなサンプルコードと実行結果表示 →

#### 今後できれば入れたい

- SEO 関連
  - Google Analytics

## デプロイする（ここでは Netlify を使用）

コマンド`vuepress build`で`.vuepress/dist/`（デフォルト）ディレクトリが自動的に作成され（この出力先は`config.js`にて変更可能）ビルドされるので、`/dist/`ディレクトリをデプロイすれば OK です。

静的サイトなので、無料の Netlify や Github Pages 等が使えます。GitHub と紐づけて、プッシュすると反映される仕組み。

各サービスとの紐付けは公式サイトにあります。私は前から気になっていた`Netlify`を使ってみました。

## つまづいた点

- ディレクトリ構造
- マークダウンをそこまで使い慣れていなかったので、純粋なマークダウン記法と VuePress の追加的機能を見分けること

## 作成してみて感じたこと

- 情報が少ない。あってもバージョンが違っていたりする。
- ちゃんと機能を把握しようと思うと英語のリファレンスを読む必要。
- Vue.js の知識なしでのカスタマイズは難しい。
- 現時点でもバージョンの違いで書き方の違い等あるので、今後も結構変わっていく可能性がありそう。

## 運用してみて感じたこと

後日書いていこうと思います。

現時点では、Markdown で記事が書けるという点がすごい気楽でいい感じです。記事投稿までのハードルがかなり下がった気がする。

### 移行のしやすさについて

当面移行する気はないですが、他の静的サイトジェネレータ等に移行するときの手間が少し気になります。
（Vue のコンポーネントを md ファイル内に出力していたりするため。）

## 参考にさせていただいたサイト

[VuePress 入門](https://www.nxworld.net/services-resource/hello-vuepress.html)

[VuePress で作るドキュメントサイト前編 VuePress の基本機能](https://app.codegrid.net/entry/2018-vuepress-1)

[VuePress でブログ作ってみた](https://notes.tmtr.jp/2019/09/04/intro-to-vuepress/)

＜カスタマイズ系＞

[VuePress の使い方！記事一覧と前後投稿リンク付きブログの作成方法](https://techblog.raccoon.ne.jp/archives/1537944919.html)

[とーふとふのブログ](https://to-hutohu.com/category/VuePress.html)
